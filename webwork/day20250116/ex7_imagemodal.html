<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>502 Study</title>
        <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <style>
            body *{
                font-family: 'Jua';
            }
        </style>
    </head>

    <body>
        <div style="margin: 30px; width:500px;">
            <h5 class="alert alert-danger">사진 클릭 시 모달다이얼로그 띄우기</h5>
            <script>
                let arr=[
                    ["햄치즈샌드위치","11000"],
                    ["닭꼬치","4500"],
                    ["매운라멘","12000"],
                    ["카레","10000"],
                    ["콘치즈그라탕","9900"],
                    ["오므라이스","12500"],
                    ["토마토스튜","18000"],
                    ["야채듬뿍샌드위치","8000"],
                    ["연근조림","3000"],
                    ["햄마요덮밥","7000"],
                    ["망고오렌지빙수","14000"],
                    ["순두부라면","5000"],
                ]
                for(let i=1;i<=12;i++){
                    let price = parseInt(Math.random()*20000)+10000;//범위 : 만원~29999까지

                    //price를 arr[i-1]부터 주는 이유 : 행번호가 1부터 시작하기 때문
                    let s=`
                        <div class="box">
                            <img src="../food/${i}.jpg" price="${arr[i-1][1]}"
                            fname="${arr[i-1][0]}",
                            data-bs-toggle = "modal", data-bs-target = "#myPhotoModal">
                        </div>
                    `;
                    document.write(s);
                }
            </script>
        </div>
        <script>
            $("div.box").css({
               float:"left",
               width:"120px",
               height:"120px",
               border:"2px solid orange",
               "background-color" : "#fdf",
               margin:"10px",
               padding:"10px 10px",
               "border-radius" : "20px"
            });
            
            $("div.box>img").css({
               width:"100px",
               height:"100px",
               cursor : "pointer",
               "border-radius" : "20px"
            });

            //사진 클릭시 이벤트
            $("div.box>img").click(function(){
                let imgSrc = $(this).attr("src");
                let price = $(this).attr("price");
                let fname=$(this).attr("fname");


                $("h4.modal-title").text(fname);
                $(".largephoto").attr("src",imgSrc);
                //$("h4.title").html(`<b>음식 : ${fname} </b>`);
                $("h4.price").html(`<b>가격 : ${price}원</b>`);
            });


        </script>
        <div id="myPhotoModal" class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
            
                  <!-- Modal Header -->
                  <div class="modal-header">
                    <h4 class="modal-title">원본사진 보기</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                  </div>
            
                  <!-- Modal body -->
                  <div class="modal-body">
                    <img src="" class="largephoto" style="width:100%;">
                    <br>
                    <h4 class="title"></h4>
                    <h4 class="price"></h4>
                  </div>
            
                  <!-- Modal footer -->
                  <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                  </div>
        </div>
    </body>
</html>